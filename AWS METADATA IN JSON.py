import requestsimport jsondef load():    awsurl = 'http://169.254.169.254/latest'       metadata_dict = {'dynamic': {}, 'meta-data': {}, 'user-data': {}}    for section in metadata_dict.keys():        datacrawl('{0}/{1}/'.format(awsurl, section), metadata_dict[section])    return metadata_dictdef datacrawl(url, d):    r = requests.get(url)    if r.status_code == 404:        return    for l in r.text.split('\n'):        if not l:             continue        newurl = '{0}{1}'.format(url, l)                if l.endswith('/'):            newkey = l.split('/')[-2]            d[newkey] = {}            datacrawl(newurl, d[newkey])        else:            r = requests.get(newurl)            if r.status_code != 404:                try:                    d[l] = json.loads(r.text)                except ValueError:                    d[l] = r.text            else:                d[l] = Noneif __name__ == '__main__':    print(json.dumps(load()))